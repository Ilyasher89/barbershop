<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h1>üìÖ –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h1>

    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö/—É—Å–ø–µ—Ö–µ -->
    <div th:if="${param.error}" class="alert alert-danger">
        –û—à–∏–±–∫–∞: <span th:text="${param.error}"></span>
    </div>
    <div th:if="${param.success}" class="alert alert-success">
        ‚úÖ –ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!
    </div>

    <!-- –ü—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ -->
    <form th:action="@{/client/appointments/new}" method="post" th:object="${appointmentRequest}">

        <!-- –í—ã–±–æ—Ä –º–∞—Å—Ç–µ—Ä–∞ –∏ —É—Å–ª—É–≥–∏ –í–ú–ï–°–¢–ï -->
        <div class="mb-3">
            <label class="form-label">–ú–∞—Å—Ç–µ—Ä –∏ —É—Å–ª—É–≥–∞:</label>
            <select class="form-select" th:field="*{barberServiceId}" required>
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Å—Ç–µ—Ä–∞ –∏ —É—Å–ª—É–≥—É --</option>
                <!-- –ì—Ä—É–ø–ø–∏—Ä—É–µ–º: –º–∞—Å—Ç–µ—Ä -> –µ–≥–æ —É—Å–ª—É–≥–∏ -->
                <optgroup th:each="barber : ${barbers}"
                          th:label="${barber.user.firstName} + ' ' + ${barber.user.lastName}">

                    <!-- –ü–æ–ª—É—á–∞–µ–º —É—Å–ª—É–≥–∏ —ç—Ç–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞ -->
                    <option th:each="service : ${barber.barberServices}"
                            th:value="${service.id}"
                            th:text="${service.service.name} + ' (' + ${service.actualPrice} + ' —Ä—É–±.)'">
                    </option>
                </optgroup>
            </select>
        </div>

        <!-- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
        <div class="mb-3">
            <label class="form-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</label>
            <input type="datetime-local" class="form-control"
                   th:field="*{appointmentDateTime}" required>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="mt-4">
            <button type="submit" class="btn btn-success">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
            <a href="/client/appointments" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>
</body>
</html>